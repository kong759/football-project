<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mybatis.mappers.GamelistMapper">

	<select id="selectGameInfo" parameterType="HashMap"
		resultType="kr.co.sist.football.common.model.dto.GameInfo">
		SELECT
		id,
		status_code statusCode,
		max_person_num
		maxPersonNum,
		max_team_num
		maxTeamNum,
		kind,
		duration,
		game_date gameDate,
		description,
		name
		FROM
		game_info

		WHERE
		ROWNUM <![CDATA[<=]]>
		#{endNum}
		AND
		#{startNum} <![CDATA[<=]]>
		ROWNUM
		ORDER BY
		id
		DESC
	</select>
	<select id="selectGameLocation" parameterType="int"
		resultType="kr.co.sist.football.gamelist.model.dto.GameLocation">
		SELECT
		name,
		location
		FROM
		game_location
		WHERE
		id = #{gameInfoId}
	</select>
	<insert id="insertGameRoom"
		parameterType="kr.co.sist.football.common.model.dto.GameInfo">
		INSERT INTO game_info(
		id,
		status_code,
		max_person_num,
		max_team_num,
		kind,
		game_date,
		duration,
		name
		)
		VALUES(
		#{id},
		#{statusCode},
		#{maxPersonNum},
		#{maxTeamNum},
		#{kind},
		SYSDATE,
		#{duration},
		#{name}
	
		)
	</insert>
	<select id = "selectMaxGameId" resultType="int">
		SELECT 
			max(id)
		FROM 
			game_info
	</select>

<insert id="insertTeamParticipate"
		parameterType="kr.co.sist.football.common.model.dto.TeamInfo">
		insert into Team_participate(
		GAME_ID,
		TEAM_ID
		)
		VALUES(
		#{gameId} ,
		#{teamId}
		)
		
	</insert>
</mapper>